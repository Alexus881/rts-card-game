<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/css/main.css">
        <script src="/javascript/main.js"></script>
    </head>
    <body class="radial-glow-background">
        <div style="text-align: center; padding-top: 100px">
            <h1 class="game-logo-font" style="margin-bottom: 30px">RTS Battle Game</h1>
            <input id="name" type="text" class="game-input" placeholder="Name"><br>
            <input id="password" type="password" class="game-input" placeholder="Password"><br>
            <button id="login" class="game-button" onclick="restRequest('POST',
                REST_API_URL + '/user/login', refreshButtonsStatus, {
                    name: document.getElementById('name').value,
                    password: document.getElementById('password').value
                })">Login
            </button>
            <button id="new_user" class="game-button" onclick="restRequest('POST',
                REST_API_URL + '/user/new', refreshButtonsStatus, {
                    name: document.getElementById('name').value,
                    password: document.getElementById('password').value
                })">Create New Account
            </button>
            <button id="logout" class="game-button" onclick="restRequest('GET',
                REST_API_URL + '/user/logout', refreshButtonsStatus);">Logout
            </button>
            <button id="lets_play" style="background-color: cornflowerblue"
                    onclick="window.location.replace(RESOURCE_URL + '/rooms.html')"><b class="glow-effect">Let's Play!</b>
            </button>
        </div>

        <br/>
        <div style="text-align: center" id="responseText"></div>

        <script>
            function refreshButtonsStatus() {
                console.log(getCookie("token") + " =============");
                if(getCookie("token")){
                    document.getElementById('logout').style.display = "inline-block";
                    document.getElementById('login').style.display = "none";
                    document.getElementById('new_user').style.display = "none";
                    document.getElementById('lets_play').style.display = "inline-block";
                    document.getElementById('name').style.display = "none";
                    document.getElementById('password').style.display = "none";
                } else {
                    document.getElementById('logout').style.display = "none";
                    document.getElementById('login').style.display = "inline-block";
                    document.getElementById('new_user').style.display = "inline-block";
                    document.getElementById('lets_play').style.display = "none";
                    document.getElementById('name').style.display = "inline-block";
                    document.getElementById('password').style.display = "inline-block";
                }
            }
            refreshButtonsStatus();
        </script>
    </body>
<html>