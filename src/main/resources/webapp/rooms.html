<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/css/main.css">
        <script src="/javascript/main.js"></script>
    </head>
    <body>
        <div class="game-site-header" style="width: 100%">
            <ul class="ul-info">
                <li><a class="active" href="/rooms.html">Rooms</a></li>
                <li><a href="/gameplay.html">Gameplay</a></li>
                <li><a href="/achievements.html">Achievements</a></li>
                <li><a href="/login.html">Login</a></li>
            </ul>
        </div>

        <div id="roomsTable" style="padding: 80px"></div>

        <script>
            restRequest('GET', REST_API_URL + '/room/list', createRoomsTable);

            function createRoomsTable(dataObject) {
                dataObject = JSON.parse(dataObject);
                var content = "";
                for (var x in dataObject) {
                    if(!content) {
                        content += "<tr>";
                        for (var prop in dataObject[x]) {
                            content += "<th>" + prop + "</th>";
                        }
                        content += "<th>Select room</th>";
                        content += "</tr>"
                    }
                    content += "<tr>";
                    for (var prop in dataObject[x]) {
                        content += "<td>" + dataObject[x][prop] + "</td>";
                    }
                    content += "<td style='text-align: right'><button"
                          + " onclick=\"restRequest('GET', REST_API_URL + '/room/"
                          + (dataObject[x]['id']) + "/enter', jsonToString);"
                          + " window.location.replace(RESOURCE_URL + '/gameplay.html');\">"
                          + "Join Game</button></td>";
                    content += "</tr>"
                }
                document.getElementById("roomsTable").innerHTML = "<table class='info-table'>" + content + "</table>";
            }
        </script>
    </body>
<html>